import{s as x,n as K,h as le,c as Z,j as q,b as ae}from"../chunks/scheduler.f6a6b711.js";import{S as H,i as J,C as O,m as oe,D as V,j as E,f as k,n as ne,k as s,a as W,x as I,o as ie,g as P,r as D,s as X,h as C,u as L,c as U,v as M,d as B,t as $,w as T,p as ce,b as ue,y as fe}from"../chunks/index.eee7ceb8.js";import{B as N,e as ee}from"../chunks/button.82dfc6a7.js";import{t as Q,a as R}from"../chunks/store.eca81e80.js";function he(r){let e,t,a,u,i,_,f,l,o,n,d,c,h,v,b,p,w,S,z=r[4].value+"",y,j,A,F,G;return{c(){e=O("svg"),t=O("circle"),o=O("circle"),S=O("text"),y=oe(z),this.h()},l(g){e=V(g,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var m=E(e);t=V(m,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,class:!0}),E(t).forEach(k),o=V(m,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,class:!0}),E(o).forEach(k),S=V(m,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,class:!0});var Y=E(S);y=ne(Y,z),Y.forEach(k),m.forEach(k),this.h()},h(){s(t,"cx",a=r[1]/2),s(t,"cy",u=r[1]/2),s(t,"r",i=r[1]/2-10),s(t,"stroke",_=r[3].color),s(t,"stroke-width",f=r[3].width),s(t,"fill","transparent"),s(t,"class",l=r[3].class),s(o,"cx",n=r[1]/2),s(o,"cy",d=r[1]/2),s(o,"r",c=r[1]/2-10),s(o,"stroke",h=r[2].color),s(o,"stroke-width",v=r[2].width),s(o,"fill","transparent"),s(o,"stroke-dasharray",b=2*Math.PI*(r[1]/2-10)),s(o,"stroke-dashoffset",p=2*Math.PI*(r[1]/2-10)*(1-r[0]/100)),s(o,"class",w=r[2].class),s(S,"x",j=r[1]/2),s(S,"y",A=r[1]/2),s(S,"text-anchor","middle"),s(S,"dominant-baseline","middle"),s(S,"class",F=r[4].class),s(e,"viewBox",G=`0 0 ${r[1]} ${r[1]}`),s(e,"width",r[1]),s(e,"height",r[1]),s(e,"class","[&_radialStrokeOff]:!stroke-pink")},m(g,m){W(g,e,m),I(e,t),I(e,o),I(e,S),I(S,y)},p(g,[m]){m&2&&a!==(a=g[1]/2)&&s(t,"cx",a),m&2&&u!==(u=g[1]/2)&&s(t,"cy",u),m&2&&i!==(i=g[1]/2-10)&&s(t,"r",i),m&8&&_!==(_=g[3].color)&&s(t,"stroke",_),m&8&&f!==(f=g[3].width)&&s(t,"stroke-width",f),m&8&&l!==(l=g[3].class)&&s(t,"class",l),m&2&&n!==(n=g[1]/2)&&s(o,"cx",n),m&2&&d!==(d=g[1]/2)&&s(o,"cy",d),m&2&&c!==(c=g[1]/2-10)&&s(o,"r",c),m&4&&h!==(h=g[2].color)&&s(o,"stroke",h),m&4&&v!==(v=g[2].width)&&s(o,"stroke-width",v),m&2&&b!==(b=2*Math.PI*(g[1]/2-10))&&s(o,"stroke-dasharray",b),m&3&&p!==(p=2*Math.PI*(g[1]/2-10)*(1-g[0]/100))&&s(o,"stroke-dashoffset",p),m&4&&w!==(w=g[2].class)&&s(o,"class",w),m&16&&z!==(z=g[4].value+"")&&ie(y,z),m&2&&j!==(j=g[1]/2)&&s(S,"x",j),m&2&&A!==(A=g[1]/2)&&s(S,"y",A),m&16&&F!==(F=g[4].class)&&s(S,"class",F),m&2&&G!==(G=`0 0 ${g[1]} ${g[1]}`)&&s(e,"viewBox",G),m&2&&s(e,"width",g[1]),m&2&&s(e,"height",g[1])},i:K,o:K,d(g){g&&k(e)}}}function _e(r,e,t){let{progress:a=0}=e,{size:u=150}=e,{activeStroke:i={color:"blue",width:10,class:""}}=e,{inactiveStroke:_={color:"lightgray",width:10,class:""}}=e,{text:f={value:"",class:""}}=e;return r.$$set=l=>{"progress"in l&&t(0,a=l.progress),"size"in l&&t(1,u=l.size),"activeStroke"in l&&t(2,i=l.activeStroke),"inactiveStroke"in l&&t(3,_=l.inactiveStroke),"text"in l&&t(4,f=l.text)},[a,u,i,_,f]}class ge extends H{constructor(e){super(),J(this,e,_e,he,x,{progress:0,size:1,activeStroke:2,inactiveStroke:3,text:4})}}const te=r=>r<10?"0"+r.toString():r,me=r=>{const e=Math.floor(r/60),t=r%60;return te(e)+" : "+te(t)},de="https://freesound.org/data/previews/536/536420_4921277-lq.mp3";function ve(r){let e,t,a,u,i,_,f,l,o,n,d,c;return a=new ge({props:{progress:r[2],size:260,activeStroke:{class:"stroke-blue-5",width:13},inactiveStroke:{class:"stroke-slate-2",width:8},text:{value:r[3],class:"text-4xl"}}}),_=new N({props:{icon:r[1]?"i-ic:round-pause":"i-ion:play",class:"p4 rounded-full btglass",bg:r[1]?"red4":"blue5",onClick:r[8],hover:"!bg-slate6"}}),l=new N({props:{icon:"i-solar:restart-bold-duotone",onClick:r[9],bg:"",text:"Reset",rounded:"full"}}),{c(){e=P("grid"),t=P("div"),D(a.$$.fragment),u=X(),i=P("flex"),D(_.$$.fragment),f=X(),D(l.$$.fragment),o=X(),n=P("audio"),this.h()},l(h){e=C(h,"GRID",{p10:!0,h:!0,class:!0});var v=E(e);t=C(v,"DIV",{bg:!0,class:!0});var b=E(t);L(a.$$.fragment,b),b.forEach(k),u=U(v),i=C(v,"FLEX",{gap3:!0,mx:!0});var p=E(i);L(_.$$.fragment,p),f=U(p),L(l.$$.fragment,p),p.forEach(k),o=U(v),n=C(v,"AUDIO",{src:!0}),E(n).forEach(k),v.forEach(k),this.h()},h(){s(t,"bg","slate50"),s(t,"class","p4 rounded-full w-fit mx-auto"),s(i,"gap3",""),s(i,"mx","auto"),le(n.src,d=de)||s(n,"src",d),s(e,"p10",""),s(e,"h","fit"),s(e,"class","gap10")},m(h,v){W(h,e,v),I(e,t),M(a,t,null),I(e,u),I(e,i),M(_,i,null),I(i,f),M(l,i,null),I(e,o),I(e,n),r[10](n),c=!0},p(h,[v]){const b={};v&4&&(b.progress=h[2]),v&8&&(b.text={value:h[3],class:"text-4xl"}),a.$set(b);const p={};v&2&&(p.icon=h[1]?"i-ic:round-pause":"i-ion:play"),v&2&&(p.bg=h[1]?"red4":"blue5"),v&2&&(p.onClick=h[8]),_.$set(p)},i(h){c||(B(a.$$.fragment,h),B(_.$$.fragment,h),B(l.$$.fragment,h),c=!0)},o(h){$(a.$$.fragment,h),$(_.$$.fragment,h),$(l.$$.fragment,h),c=!1},d(h){h&&k(e),T(a),T(_),T(l),r[10](null)}}}function pe(r,e,t){let a,u,i,_,f;Z(r,Q,w=>t(6,_=w)),Z(r,R,w=>t(7,f=w));let l,o;const n=()=>{clearInterval(l),t(0,o.volume=.2,o),o.play(),t(1,i=!1)},d=()=>{if(f<=0){n();return}q(R,f=f-1,f)},c=()=>{f==0&&q(R,f=_*60,f),l=setInterval(d,1e3)},h=w=>{clearInterval(l),w=="isReset"&&(q(R,f=_*60,f),t(1,i=!1))},v=()=>{t(1,i=!i),i?c():h("isPause")},b=()=>h("isReset");function p(w){ae[w?"unshift":"push"](()=>{o=w,t(0,o)})}return r.$$.update=()=>{r.$$.dirty&128&&t(3,a=me(f)),r.$$.dirty&192&&t(2,u=100-f/(_*60)*100)},t(1,i=!1),[o,i,u,a,c,h,_,f,v,b,p]}class ke extends H{constructor(e){super(),J(this,e,pe,ve,x,{})}}function re(r,e,t){const a=r.slice();return a[6]=e[t],a}function se(r){let e,t;function a(){return r[3](r[6])}return e=new N({props:{text:r[6].name,icon:r[6].icon,hover:"bg-slate7",class:`${r[0]===r[6].val?"bg-white text-black hover:text-white":""}`,onClick:a,w:"full"}}),{c(){D(e.$$.fragment)},l(u){L(e.$$.fragment,u)},m(u,i){M(e,u,i),t=!0},p(u,i){r=u;const _={};i&1&&(_.class=`${r[0]===r[6].val?"bg-white text-black hover:text-white":""}`),e.$set(_)},i(u){t||(B(e.$$.fragment,u),t=!0)},o(u){$(e.$$.fragment,u),t=!1},d(u){T(e,u)}}}function be(r){let e,t,a,u,i,_,f=ee(r[1]),l=[];for(let n=0;n<f.length;n+=1)l[n]=se(re(r,f,n));const o=n=>$(l[n],1,1,()=>{l[n]=null});return i=new ke({}),{c(){e=P("grid"),t=P("div"),a=P("flex");for(let n=0;n<l.length;n+=1)l[n].c();u=X(),D(i.$$.fragment),this.h()},l(n){e=C(n,"GRID",{class:!0});var d=E(e);t=C(d,"DIV",{m:!0,bg:!0,class:!0});var c=E(t);a=C(c,"FLEX",{gap3:!0,class:!0,rounded:!0});var h=E(a);for(let v=0;v<l.length;v+=1)l[v].l(h);h.forEach(k),u=U(c),L(i.$$.fragment,c),c.forEach(k),d.forEach(k),this.h()},h(){s(a,"gap3",""),s(a,"class","bg-black p3 shadow-md"),s(a,"rounded","xl"),s(t,"m","auto"),s(t,"bg","white"),s(t,"class","curved"),s(e,"class","bg-slate-1 p5")},m(n,d){W(n,e,d),I(e,t),I(t,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,null);I(t,u),M(i,t,null),_=!0},p(n,[d]){if(d&7){f=ee(n[1]);let c;for(c=0;c<f.length;c+=1){const h=re(n,f,c);l[c]?(l[c].p(h,d),B(l[c],1)):(l[c]=se(h),l[c].c(),B(l[c],1),l[c].m(a,null))}for(ce(),c=f.length;c<l.length;c+=1)o(c);ue()}},i(n){if(!_){for(let d=0;d<f.length;d+=1)B(l[d]);B(i.$$.fragment,n),_=!0}},o(n){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)$(l[d]);$(i.$$.fragment,n),_=!1},d(n){n&&k(e),fe(l,n),T(i)}}}function we(r,e,t){let a,u;Z(r,R,o=>t(4,a=o)),Z(r,Q,o=>t(5,u=o));let i="pomodoro",_=[{name:"Pomodoro",val:"pomodoro",icon:"i-icon-park-outline:tomato",length:25},{name:"Short Break",val:"custom",length:5}];const f=(o,n)=>{t(0,i=o),q(Q,u=n,u),q(R,a=n*60,a)};return[i,_,f,o=>f(o.val,o.length)]}class Se extends H{constructor(e){super(),J(this,e,we,be,x,{})}}function Ie(r){let e,t;return e=new Se({}),{c(){D(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,u){M(e,a,u),t=!0},p:K,i(a){t||(B(e.$$.fragment,a),t=!0)},o(a){$(e.$$.fragment,a),t=!1},d(a){T(e,a)}}}class Ce extends H{constructor(e){super(),J(this,e,null,Ie,x,{})}}export{Ce as component};
